Owen Gallegos - Final Project

For the final project, I created a malloc function that allocates blocks of memory on the heap and a free function that can deallocate a block of memory. The malloc function has one parameter which is the amount of bytes to store. It uses this information to find an existing block of memory that is deallocated. If it finds a deallocated block, it will check the amount of space in the block. If the space is large enough, it will change the block state to allocated and return the address of the block. If the block is not large enough or is not deallocated, the program will repeat this process for the next block until all blocks have been searched. Once all of the blocks have been searched, the program will call the sbrk system call to create a new block of memory. The new block must contain space for the amount of bytes to store specified by the user as well as the address of where the next block will be located and the state of the block (whether it is allocated or deallocated). If there is not enough space for the block of memory in the heap, the sbrk system call (syscall 9) will not be executed and the function will just return 0. The free function has one parameter which is the address of the block to free. The program will go to this address and set the state of the block to deallocated. This allows the malloc function to know that this block of data is free to be repurposed. This function does not return anything. I had originally wanted to add a few more features for this program including a way to reorganize the blocks using a clean function that would move blocks down the heap by writing over deallocated blocks but I did not have time. There could also be a way to save space using a different malloc algorithm that would combine two neighboring deallocated blocks to form a bigger one if the amount of bytes to store was too big for the first. The same algorithm might split a block that is larger than the amount of bytes being stored. Despite not being able to implement all of those features, this project taught me a lot about the sbrk function as well as how storing memory on the heap works in general. It also helped me learn a lot about void pointers and what they are used for in languages like C and C++.
